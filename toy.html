<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <ul class="list"></ul>

    <script>
      /*     const reqUrl = `https://eulsoo.github.io/list.json`;
    const reqObj = new XMLHttpRequest();
    reqObj.open('GET',reqUrl);
    reqObj.responseType = 'json';
    reqObj.send();
    reqObj.onload = () => {
      const obj = reqObj.response;
      toDo(obj);
    } */

      fetch(
        `https://s3.us-west-2.amazonaws.com/secure.notion-static.com/f6e4d3d3-c52c-4ea8-b665-968a3b17c5ea/bank.json?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20220506%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20220506T071024Z&X-Amz-Expires=86400&X-Amz-Signature=b64692ad33e835d4c2d70f4c02e816a19d8f2d396044b54537386174238ceaf5&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22bank.json%22&x-id=GetObject`
      )
        .then(function (res) {
          console.log(res);
          return res.json(); //json화
        })
        .then(function (obj) {
          toDo(obj);
        });

      function toDo(obj) {
        console.log(obj);
        const ulElement = document.querySelector(".list");

        for (let i = 0; i < obj.length; i++) {
          //li 만들기
          const liEl = document.createElement("li");
          const strongEl = document.createElement("strong");
          const spanEl = document.createElement("span");

          //item값 가져와서 li에 넣기
          strongEl.textContent = obj[i].item;
          spanEl.textContent = obj[i].price;
          liEl.appendChild(strongEl);
          liEl.appendChild(spanEl);
          // ul에 li 붙이기
          ulElement.appendChild(liEl);
        }
      }
    </script>
  </body>
</html>
